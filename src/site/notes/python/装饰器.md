---
{"dg-publish":true,"dg-permalink":"python/decorators","permalink":"/python/decorators/","dgHomeLink":true,"dgPassFrontmatter":false}
---


# 装饰器


## 一、什么是装饰器


是什么：Python 函数，返回值也是一个函数

做什么：为已经存在的函数或对象添加额外的功能

优点：不需要做任何代码改动；抽离出大量与函数功能本身无关的雷同代码

场景：插入日志、性能测试、事务处理、缓存、权限校验


## 二、


简单的装饰器

```python
def debug(func):
    def wrapper():
        print "[DEBUG]: enter {}()".format(func.__name__)
        return func()
    return wrapper

@debug
def say_hello():
    print "hello!"
```

可以传递参数的装饰器

```python
def debug(func):
    def wrapper(*args, **kwargs):  # 指定宇宙无敌参数
        print "[DEBUG]: enter {}()".format(func.__name__)
        print 'Prepare and say...',
        return func(*args, **kwargs)
    return wrapper  # 返回
 
@debug
def say(something):
    print "hello {}!".format(something)
```












>参考： [详解Python的装饰器 - Toby Qin - 博客园 (cnblogs.com)](https://www.cnblogs.com/tobyqin/p/python-decorator.html)